<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.ui.layout.form">
    <Dialog
        id="reviewDamageDialog"
        title="Review Damage Report"
        contentWidth="700px"
        contentHeight="600px">
        <content>
            <ScrollContainer height="100%" width="100%" vertical="true">
                <f:SimpleForm
                    editable="false"
                    layout="ResponsiveGridLayout"
                    labelSpanXL="4"
                    labelSpanL="4"
                    labelSpanM="4"
                    labelSpanS="12"
                    emptySpanXL="0"
                    emptySpanL="0"
                    emptySpanM="0"
                    emptySpanS="0"
                    columnsXL="1"
                    columnsL="1"
                    columnsM="1">
                    <f:content>
                        <core:Title text="Student Information"/>
                        <Label text="Student Name"/>
                        <Text text="{hostelData>studentName}"/>

                        <Label text="Matric No"/>
                        <Text text="{hostelData>matricNo}"/>

                        <Label text="Room"/>
                        <Text text="{hostelData>room}"/>

                        <core:Title text="Report Details"/>
                        <Label text="Report ID"/>
                        <Text text="{hostelData>id}"/>

                        <Label text="Type"/>
                        <ObjectStatus
                            text="{= ${hostelData>type} === 'check-in' ? 'Check-In' : 'Check-Out' }"/>

                        <Label text="Report Date"/>
                        <Text text="{hostelData>reportDate}"/>

                        <core:Title text="Damaged Items"/>
                        <Label text="Items"/>
                        <List
                            items="{hostelData>items}"
                            noDataText="No damaged items">
                            <CustomListItem>
                                <VBox class="sapUiSmallMargin">
                                    <HBox class="sapUiTinyMarginBottom">
                                        <Label text="Facility: " design="Bold" class="sapUiTinyMarginEnd"/>
                                        <Text text="{hostelData>facility}"/>
                                    </HBox>
                                    <HBox class="sapUiTinyMarginBottom">
                                        <Label text="Condition: " design="Bold" class="sapUiTinyMarginEnd"/>
                                        <ObjectStatus
                                            text="{hostelData>condition}"
                                            state="{= ${hostelData>condition} === 'Minor Damage' ? 'Warning' : 'Error' }"/>
                                    </HBox>
                                    <HBox class="sapUiTinyMarginBottom">
                                        <Label text="Description: " design="Bold" class="sapUiTinyMarginEnd"/>
                                        <Text text="{hostelData>description}"/>
                                    </HBox>
                                    <HBox alignItems="Center">
                                        <Label text="Photo: " design="Bold" class="sapUiTinyMarginEnd"/>
                                        <Link text="{hostelData>photo}" press="onViewPhoto"/>
                                    </HBox>
                                </VBox>
                            </CustomListItem>
                        </List>
                    </f:content>
                </f:SimpleForm>
            </ScrollContainer>
        </content>
        <beginButton>
            <MenuButton
                text="Take Action"
                type="Emphasized"
                buttonMode="Split"
                defaultAction=".onIssueFine">
                <menu>
                    <Menu>
                        <MenuItem text="Issue Fine" icon="sap-icon://money-bills" press=".onIssueFine"/>
                        <MenuItem text="Send Maintenance Request" icon="sap-icon://wrench" press=".onSendMaintenance"/>
                        <MenuItem text="Close Report (No Action)" icon="sap-icon://decline" press=".onCloseReport"/>
                    </Menu>
                </menu>
            </MenuButton>
        </beginButton>
        <endButton>
            <Button
                text="Cancel"
                press=".onCancelReview"/>
        </endButton>
    </Dialog>
</core:FragmentDefinition>
